
rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    // Users should be able to read their own profile data.
    // In a production app with custom auth, you'd need a more secure way to verify identity.
    match /users/{userId} {
      allow read: if true; 
      // Write access should be more restricted, but for now, this allows profile updates.
      // This is insecure in production without proper authentication checks.
      allow write: if true;
    }

    // This rule allows any user to read and write to any chat document.
    // THIS IS INSECURE FOR PRODUCTION.
    // For development purposes, it will resolve the permission-denied error.
    // In a real application, you would secure this so that only members of a chat
    // can read or write to it.
    match /chats/{chatId} {
      allow read, write: if true;
    }
  }
}
